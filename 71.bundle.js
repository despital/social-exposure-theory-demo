"use strict";(self.webpackChunksocial_exposure_theory=self.webpackChunksocial_exposure_theory||[]).push([[71],{3707:e=>{e.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27utf-8%27%3F%3E%3C%21-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0%29 --%3E%3Csvg version=%271.1%27 id=%27Layer_1%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 x=%270px%27 y=%270px%27 viewBox=%270 0 10 10%27 style=%27enable-background:new 0 0 10 10;%27 xml:space=%27preserve%27%3E%3Cstyle type=%27text/css%27%3E .st0%7Bfill:%23404040;%7D%0A%3C/style%3E%3Cpolygon class=%27st0%27 points=%272,2 0,4 5,9 10,4 8,2 5,5 %27/%3E%3C/svg%3E%0A"},5265:(e,t,o)=>{o.r(t),o.d(t,{run:()=>_}),o(5259),o(2621),o(2716);var n=o(7299),i=o(9925),s=o(4824),a=o(1971),r=o(4774),l=o(6430),c=o(223),p=o(6290),u=o(8517),d=o(1958),h=o(4783),g=o(810),m=o(1038),y=o(2967),f=o.n(y);async function _({assetPaths:e,input:t={},environment:o,title:m,version:y}){const _=(0,n.N3)({show_progress_bar:!0,auto_update_progress_bar:!1,on_finish:function(){_.data.displayData()}}),b=(0,h.MI)(_),v="true"===_.data.getURLVariable("debug"),w=_.data.getURLVariable("simulate"),x=_.data.getURLVariable("section")||"all";let k=v&&d.P.DEBUG_SECTIONS[x]?d.P.DEBUG_SECTIONS[x]:["consent","demographics","phase1","phase2","phase3","endsurvey"];w&&(k=k.filter(e=>"consent"!==e&&"demographics"!==e),console.log("Simulation mode: Auto-skipping consent and demographics (incompatible with simulation)"));const P=e=>k.includes(e);let A,E,S;if(console.log("Debug mode:",v?"ENABLED":"disabled"),v&&console.log("Section:",x,"-> Showing:",k),w&&console.log("Simulation mode:",w),_.data.addProperties({participant_id:b.participantId,study_id:b.studyId,session_id:b.sessionId,condition:b.condition,majority_group:b.majorityGroup,informed:b.informed,debug_mode:v}),d.P.DISABLE_DATA_SAVING)console.log("Firebase data saving is DISABLED (development mode)");else{A=(0,c.Wp)(d.P.FIREBASE_CONFIG),E=(0,p.C3)(A),S=(0,u.xI)();try{await(0,u.zK)(S),console.log("Firebase authentication successful")}catch(U){console.error("Firebase authentication error:",U)}}let T=(0,h.Oq)(_);if(T=(0,h.Gc)(T,_),v&&d.P.DEBUG_MODE.REDUCE_PHASE1_TRIALS){const M=T.filter(e=>"red"===e.color).slice(0,10),Y=T.filter(e=>"blue"===e.color).slice(0,10);T=[...M,...Y],console.log("Debug mode: Reduced to 20 faces (10 red, 10 blue)")}const I=d.P.EXPOSURES_PER_FACE;v&&d.P.DEBUG_MODE.REDUCE_PHASE1_TRIALS&&(d.P.EXPOSURES_PER_FACE=1,console.log("Debug mode: Reduced Phase 1 to 1 exposure per face"));const D=(0,h.T4)(T,b,_);d.P.EXPOSURES_PER_FACE=I;let R=0,C=0;const B=d.P.PHASE2_TRIALS_PER_COMPOSITION;v&&d.P.DEBUG_MODE.REDUCE_PHASE2_TRIALS&&(d.P.PHASE2_TRIALS_PER_COMPOSITION=1,console.log("Debug mode: Reduced Phase 2 to 1 trial per composition"));const V=(0,h._)(T,_);d.P.PHASE2_TRIALS_PER_COMPOSITION=B;let N=0,O=0;console.log("Experiment initialized:",{condition:b.condition,majorityGroup:b.majorityGroup,informed:b.informed,participantId:b.participantId,phase1Trials:D.length,phase2Trials:V.length});const G=[],q={type:i.A,stimulus:"\n            <h1>Welcome to the Social Exposure Theory Experiment</h1>\n            <p>Press any key to begin.</p>\n        "};if(G.push(q),P("consent")){const $={type:s.A,stimulus:"\n                <h2>Informed Consent</h2>\n                <p>Before we begin, please read and agree to the informed consent form.</p>\n                <p>This study involves viewing faces and making decisions about who to interact with.</p>\n                <p>The experiment will take approximately 20-25 minutes.</p>\n            ",choices:["View Consent Form"],data:{task:"consent_intro"}};function j(){return!!document.getElementById("consent_checkbox").checked||(alert("Please check the box to indicate that you consent to participate."),!1)}G.push($);const H={type:a.A,url:"assets/informed_consent/consent_form.html",cont_btn:"start",check_fn:j,data:{task:"consent_form"}};G.push(H)}else console.log("Debug mode: Skipped consent form");if(P("demographics")){const F={type:s.A,stimulus:"\n                <h2>Background Information</h2>\n                <p>Before starting the main experiment, we'd like to collect some background information.</p>\n                <p>This will take about 2-3 minutes.</p>\n            ",choices:["Continue"],data:{task:"demographics_intro"}};G.push(F);const W=[...Object.values(g.getNames("en")).sort(),"Prefer not to say"],z=f().getAllNames().sort(),K={type:r.A,survey_json:{showQuestionNumbers:!0,completeText:"Continue to Experiment",pageNextText:"Next",pagePrevText:"Back",pages:[{name:"page1",elements:[{type:"text",title:"How old are you?",name:"age",isRequired:!0,inputType:"number",min:18,max:100},{type:"radiogroup",title:"How would you describe your gender identity?",name:"gender",isRequired:!0,choices:["Woman","Man","Non-binary","Prefer not to disclose"]},{type:"checkbox",title:"What is your race/ethnicity? (Select all that apply)",name:"ethnicity",isRequired:!0,choices:["American Indian or Alaska Native","Asian","Black or African American","Hispanic or Latino","Native Hawaiian or Pacific Islander","White","Other","Prefer not to disclose"]}]},{name:"page2",elements:[{type:"radiogroup",title:"What is your highest level of education?",name:"education",isRequired:!0,choices:["Less than high school","High school graduate","Some college","Associate degree","Bachelor's degree","Master's degree","Doctoral degree","Professional degree (JD, MD, etc.)","Prefer not to disclose"]},{type:"rating",title:"Where would you place yourself on this scale, relative to other people in society?",description:"Please think of the following scale as representing where people stand in society. At the top are people who are best off — those who have the most money, education, and most respected jobs. At the bottom are people who are worst off — those who have the least money, education, and least respected jobs or no job.",name:"ses_ladder",isRequired:!0,rateMin:1,rateMax:10,minRateDescription:"1 (Bottom)",maxRateDescription:"10 (Top)"},{type:"rating",title:"How would you describe your political orientation?",name:"political_orientation",isRequired:!0,rateMin:1,rateMax:7,minRateDescription:"1 (Very Conservative)",maxRateDescription:"7 (Very Liberal)"}]},{name:"page3",elements:[{type:"radiogroup",title:"What is your current employment status?",name:"occupation",isRequired:!0,choices:["Student","Employed","Self-employed","Unemployed","Retired","Other / prefer not to say"]},{type:"dropdown",title:"What is your primary language?",name:"primary_language",isRequired:!0,choices:z,placeholder:"Select or search for your language..."},{type:"radiogroup",title:"How would you rate your English proficiency?",name:"english_proficiency",isRequired:!0,choices:["Native speaker","Fluent","Proficient","Intermediate","Basic","Prefer not to say"]},{type:"dropdown",title:"Where are you currently located?",name:"geographic_location",isRequired:!0,choices:W,placeholder:"Select or search for your country..."}]},{name:"page4",elements:[{type:"radiogroup",title:"Do you wear glasses or contact lenses?",name:"vision_correction",isRequired:!0,choices:["Glasses","Contact lenses","None"]},{type:"radiogroup",title:"Are you color blind or have difficulty distinguishing between red and blue?",name:"color_blind",isRequired:!0,choices:["Yes","No","Not sure"]},{type:"radiogroup",title:"What type of device are you using to complete this experiment?",name:"device_type",isRequired:!0,choices:["Desktop computer / Laptop","Tablet","Smartphone","Other"]}]}]},data:{task:"demographics"}};G.push(K)}else console.log("Debug mode: Skipped demographics survey");if(P("phase1")){const Q={type:i.A,stimulus:function(){let e='\n                <div style="max-width: 800px; margin: auto; text-align: left;">\n                    <h2>Instructions</h2>\n                    <p>In this experiment, you will see <strong>4 faces</strong> on each trial.</p>\n                    <p>Your task is to choose <strong>one person</strong> to interact with by clicking on their face.</p>\n                    <p>After your choice, you will receive either a <strong>reward (+1)</strong> or a <strong>punishment (-5)</strong>.</p>\n                    <p><strong>Your goal is to maximize your total score.</strong></p>\n            ';return b.informed&&(e+="\n                    <p><strong>Important information:</strong> The faces have colored backgrounds (red or blue).\n                    Both groups have similar proportions of people who tend to give rewards vs punishments.</p>\n                "),e+="\n                    <p>Press any key to start the experiment.</p>\n                </div>\n            ",e},on_start:function(){_.progressBar.progress=0}};G.push(Q);const X={timeline:[{type:l.A,images:function(){return _.evaluateTimelineVariable("faces").map(e=>({src:e.imagePath,color:e.color,data:{id:e.id,isGood:e.isGood}}))},prompt:function(){return"\n                <p>Choose a person to interact with by clicking on a face:</p>\n            "},image_width:200,image_height:200,grid_columns:2,gap:20,data:function(){return{task:"choice",phase:1,block:_.evaluateTimelineVariable("block"),trial_in_block:_.evaluateTimelineVariable("trialInBlock")}},on_finish:function(e){const t=_.evaluateTimelineVariable("faces")[e.response],o=(0,h.p8)(t);R+=o,C++,e.chosen_face_id=t.id,e.chosen_face_color=t.color,e.chosen_face_is_good=t.isGood,e.outcome=o,e.total_score=R}},{type:i.A,stimulus:function(){const e=_.data.get().last(1).values()[0].outcome;return`\n                <div class="feedback ${e>0?"positive":"negative"}">\n                    ${e>0?`+${e}`:e}\n                </div>\n            `},choices:"NO_KEYS",trial_duration:1e3,data:{task:"feedback",phase:1},on_finish:function(){const e=C/D.length*.6;_.progressBar.progress=e}}],timeline_variables:D};G.push(X);const J={type:i.A,stimulus:function(){return"\n                    <h2>Phase 1 Complete!</h2>\n                    <p>Great job! You've finished the first part of the experiment.</p>\n                    <p>Press any key to continue.</p>\n                "},post_trial_gap:500,data:{task:"phase1_complete",phase1_score:R}};G.push(J)}else console.log("Debug mode: Skipped Phase 1");if(P("phase2")){let Z=null;const ee={type:i.A,stimulus:function(){return'\n                <div id="break-container">\n                    <h2>Break Time!</h2>\n                    <p>You\'ve completed Phase 1 of the experiment.</p>\n                    <p>Please take a break before continuing to Phase 2.</p>\n                    <p>The experiment will continue in:</p>\n                    <div id="countdown-timer" style="font-size: 48px; font-weight: bold; margin: 30px 0;">60</div>\n                    <p style="color: #666;">Or press the <strong>spacebar</strong> to continue immediately</p>\n                </div>\n            '},choices:[" "],trial_duration:6e4,on_load:function(){let e=60;const t=document.getElementById("countdown-timer");Z=setInterval(()=>{e--,t&&(t.textContent=e),e<=0&&clearInterval(Z)},1e3)},on_finish:function(){Z&&(clearInterval(Z),Z=null)},data:{task:"phase2_break"}};G.push(ee);const te={type:i.A,stimulus:'\n            <div style="max-width: 800px; margin: auto; text-align: left;">\n                <h2>Phase 2 Instructions</h2>\n                <p>In this phase, you will see <strong>4 new faces</strong> on each trial.</p>\n                <p>Your task is to choose <strong>one person</strong> you would like to interact with by clicking on their face.</p>\n                <p><strong>Note:</strong> You will NOT receive immediate feedback after each choice.</p>\n                <p>At the end of this phase, you will see your total score for Phase 2.</p>\n                <p>Press any key to start Phase 2.</p>\n            </div>\n        ',data:{task:"phase2_instructions"}};G.push(te);const oe={timeline:[{type:l.A,images:function(){return _.evaluateTimelineVariable("faces").map(e=>({src:e.imagePath,color:e.color,data:{id:e.id,isGood:e.isGood}}))},prompt:"<p>Choose a person you would like to interact with:</p>",image_width:200,image_height:200,grid_columns:2,gap:20,data:function(){const e=_.evaluateTimelineVariable("composition");return{task:"phase2_choice",phase:2,composition:e,red_count:e.red,blue_count:e.blue}},on_finish:function(e){const t=_.evaluateTimelineVariable("faces")[e.response],o=(0,h.p8)(t);N+=o,O++,e.chosen_face_id=t.id,e.chosen_face_color=t.color,e.chosen_face_is_good=t.isGood,e.outcome=o,e.phase2_score=N;const n=O/V.length;_.progressBar.progress=.6+.1*n}}],timeline_variables:V};G.push(oe);const ne={type:i.A,stimulus:function(){return"\n                    <h2>Phase 2 Complete!</h2>\n                    <p>Thank you for completing both phases!</p>\n                    <p>Press any key to continue.</p>\n                "},post_trial_gap:500,data:{task:"phase2_summary",phase2_score:N,total_combined_score:R+N}};G.push(ne)}else console.log("Debug mode: Skipped Phase 2");if(P("phase3")){const ie={type:i.A,stimulus:'\n            <div style="max-width: 800px; margin: auto; text-align: left;">\n                <h2>Phase 3 Instructions</h2>\n                <p>In this final phase, we will show you the faces you encountered during the experiment.</p>\n                <p>For each face, we will ask you two questions:</p>\n                <ol>\n                    <li>Whether you think this person is <strong>good</strong> or <strong>bad</strong></li>\n                    <li>How <strong>confident</strong> you are in your judgment</li>\n                </ol>\n                <p>There are no right or wrong answers - we\'re interested in your impressions.</p>\n                <p>Press any key to start Phase 3.</p>\n            </div>\n        ',data:{task:"phase3_instructions"}};G.push(ie);const se=(0,h.Zn)(D,V,T,_);let ae=0;console.log("Phase 3 initialized:",{totalTrials:se.length,uniqueFaces:se.length/2});let re=null;const le={timeline:[{timeline:[{type:s.A,stimulus:function(){const e=_.evaluateTimelineVariable("face");return`\n                <div style="text-align: center;">\n                    <img src="${e.imagePath}"\n                         style="width: 300px; height: 300px; border: 10px solid ${e.color}; border-radius: 10px; margin-bottom: 30px;">\n                    <h3 style="margin-top: 20px;">Do you think this person is good or bad?</h3>\n                </div>\n            `},choices:["Bad","Good"],button_html:e=>`<button class="jspsych-btn" style="font-size: 18px; padding: 15px 40px; margin: 10px;">${e}</button>`,data:function(){return{task:"phase3_goodbad",phase:3,face_id:_.evaluateTimelineVariable("face").id,face_color:_.evaluateTimelineVariable("face").color,face_is_good:_.evaluateTimelineVariable("face").isGood}},on_finish:function(e){e.rating=0===e.response?"bad":"good",re=e.rating,ae++;const t=ae/se.length;_.progressBar.progress=.7+.3*t}}],conditional_function:function(){return"goodbad"===_.evaluateTimelineVariable("trialType")}},{timeline:[{type:s.A,stimulus:function(){const e=_.evaluateTimelineVariable("face");return`\n                <div style="text-align: center;">\n                    <img src="${e.imagePath}"\n                         style="width: 300px; height: 300px; border: 10px solid ${e.color}; border-radius: 10px; margin-bottom: 30px;">\n                    <h3 style="margin-top: 20px;">How confident are you that your choice is correct?</h3>\n                </div>\n            `},choices:["Very unconfident","Unconfident","Slightly unconfident","Slightly confident","Confident","Very confident"],button_html:e=>`<button class="jspsych-btn" style="font-size: 16px; padding: 12px 20px; margin: 5px; min-width: 180px;">${e}</button>`,data:function(){return{task:"phase3_confidence",phase:3,face_id:_.evaluateTimelineVariable("face").id,face_color:_.evaluateTimelineVariable("face").color,face_is_good:_.evaluateTimelineVariable("face").isGood,previous_goodbad_rating:re}},on_finish:function(e){e.confidence_level=e.response+1,e.confidence_label=["Very unconfident","Unconfident","Slightly unconfident","Slightly confident","Confident","Very confident"][e.response],ae++;const t=ae/se.length;_.progressBar.progress=.7+.3*t}}],conditional_function:function(){return"confidence"===_.evaluateTimelineVariable("trialType")}}],timeline_variables:se};G.push(le);const ce={type:i.A,stimulus:"\n                <h2>Phase 3 Complete!</h2>\n                <p>Thank you for providing your ratings.</p>\n                <p>You have completed all phases of the experiment.</p>\n                <p>Press any key to continue.</p>\n            ",post_trial_gap:500,data:{task:"phase3_complete"}};G.push(ce)}else console.log("Debug mode: Skipped Phase 3");if(P("endsurvey")){const pe={type:s.A,stimulus:"\n                <h1>Congratulations!</h1>\n                <p>You have successfully completed the experiment.</p>\n                <p>Before we finish, we have a few final questions for you.</p>\n            ",choices:["Continue"],data:{task:"endsurvey_congratulations"}};G.push(pe);const ue={type:s.A,stimulus:'\n                <div style="max-width: 800px; margin: auto; text-align: left;">\n                    <h2>About This Study</h2>\n                    <p>Thank you for your participation in this experiment!</p>\n                    <p><strong>Purpose:</strong> This study investigates how people form impressions and make decisions about social partners. We are particularly interested in how exposure to different individuals affects approach-avoidance behavior and whether group membership influences these decisions.</p>\n                    <p><strong>What you did:</strong></p>\n                    <ul>\n                        <li><strong>Phase 1:</strong> You learned which individuals tend to give rewards versus punishments through direct experience.</li>\n                        <li><strong>Phase 2:</strong> You made choices about novel individuals, allowing us to see how your learning generalized.</li>\n                        <li><strong>Phase 3:</strong> You rated the faces you encountered, helping us understand your explicit attitudes.</li>\n                    </ul>\n                    <p><strong>Background colors:</strong> The red and blue backgrounds represented different social groups. We varied the composition of these groups to study social learning and decision-making.</p>\n                    <p>Your responses will help us better understand the psychological mechanisms underlying social interaction and group dynamics.</p>\n                </div>\n            ',choices:["Continue"],data:{task:"endsurvey_debriefing"}};G.push(ue);const de={type:r.A,survey_json:{showQuestionNumbers:!1,completeText:"Continue",pages:[{name:"technical_page",elements:[{type:"radiogroup",title:"Did all images load properly during the experiment?",name:"images_loaded",isRequired:!0,choices:["Yes, all images loaded","No, some images did not load","Not sure"]},{type:"radiogroup",title:"Did you encounter any other technical difficulties during the experiment?",name:"technical_difficulties",isRequired:!0,choices:["Yes","No"]},{type:"comment",title:"Please describe the technical difficulties you encountered:",name:"technical_difficulties_details",visibleIf:'{technical_difficulties} = "Yes"',isRequired:!1,rows:4}]}]},data:{task:"endsurvey_technical_check"}};G.push(de);const he={type:r.A,survey_json:{showQuestionNumbers:!1,completeText:"Continue",pages:[{name:"feedback_page",elements:[{type:"rating",title:"How clear was the design of the experiment? Did you understand what you were supposed to do?",name:"clarity_rating",isRequired:!0,rateMin:0,rateMax:5,minRateDescription:"0 (Very unclear)",maxRateDescription:"5 (Very clear)"},{type:"radiogroup",title:"How would you describe the length of the experiment?",name:"length_rating",isRequired:!0,choices:["Much too short","Somewhat too short","Just right","Somewhat too long","Much too long"]},{type:"comment",title:"Do you have any suggestions for improving the experiment design?",name:"suggestions",isRequired:!1,rows:5,placeholder:"Please share any thoughts on how we could improve the experiment..."}]}]},data:{task:"endsurvey_user_feedback"}};G.push(he);const ge={type:s.A,stimulus:function(){return`\n                    <div style="max-width: 600px; margin: auto;">\n                        <h1>Thank You!</h1>\n                        <p>Your participation is greatly appreciated.</p>\n                        <h3>Your Performance:</h3>\n                        <div style="background-color: #f0f0f0; padding: 20px; border-radius: 10px; margin: 20px 0;">\n                            <p style="font-size: 18px; margin: 10px 0;">Phase 1 Score: <strong>${R}</strong></p>\n                            <p style="font-size: 18px; margin: 10px 0;">Phase 2 Score: <strong>${N}</strong></p>\n                            <p style="font-size: 22px; margin: 10px 0; color: #2e7d32;">Total Score: <strong>${R+N}</strong></p>\n                        </div>\n                        <p>Your data will be saved in the next step.</p>\n                    </div>\n                `},choices:["Save Data"],data:{task:"endsurvey_final_thank_you"}};G.push(ge)}else{console.log("Debug mode: Skipped end-of-experiment surveys");const me={type:i.A,stimulus:function(){return`\n                    <h2>Experiment Complete!</h2>\n                    <p>Phase 1 score: <strong>${R}</strong></p>\n                    <p>Phase 2 score: <strong>${N}</strong></p>\n                    <p>Total combined score: <strong>${R+N}</strong></p>\n                    <p>Thank you for participating.</p>\n                    <p>Press any key to save your data.</p>\n                `},post_trial_gap:500};G.push(me)}if(!d.P.DISABLE_DATA_SAVING&&S){const ye={type:i.A,stimulus:"<p>Saving data, please wait...</p>",trial_duration:2e3,choices:[],on_finish:function(){if(S.currentUser){console.log("Authenticated user detected, preparing to save data...");const e=new Uint32Array(1);window.crypto.getRandomValues(e);const t=b.participantId||`internal_${e[0]}`,o=_.data.get().values(),n=o.filter(e=>1===e.phase),i=o.filter(e=>2===e.phase),s=o.filter(e=>3===e.phase),a=o.find(e=>"demographics"===e.task),r=o.find(e=>"endsurvey_technical_check"===e.task),l=o.find(e=>"endsurvey_user_feedback"===e.task),c={metadata:{internal_id:`internal_${e[0]}`,prolific_pid:b.participantId||null,study_id:b.studyId||null,session_id:b.sessionId||null,condition:b.condition,majority_group:b.majorityGroup,informed:b.informed,timestamp:(new Date).toISOString(),date_readable:(new Date).toLocaleString(),debug_mode:v},demographics:a?a.response:null,summary:{phase1_score:R,phase2_score:N,total_score:R+N,phase1_trials_count:n.length,phase2_trials_count:i.length,phase3_trials_count:s.length},trials:{phase1:n,phase2:i,phase3:s},surveys:{technical_check:r?r.response:null,user_feedback:l?l.response:null}},u=`participants/${t}`;(0,p.hZ)((0,p.KR)(E,u),c).then(()=>{console.log("✅ Data saved successfully to Firebase:",u)}).catch(e=>{console.error("❌ Error saving data to Firebase:",e),alert("Error saving data: "+e.message)})}else console.error("❌ Cannot save data: User not authenticated"),alert("Error: Not authenticated. Data could not be saved.")}};G.push(ye)}const L={type:i.A,stimulus:"<p>Data saved. Thank you for your participation!</p>",trial_duration:2e3,choices:[]};if(G.push(L),w){const fe="visual"===w?"visual":"data-only";console.log(`Running in SIMULATION mode: ${fe}`),await _.simulate(G,fe)}else v&&d.P.DEBUG_MODE.ENABLE_SIMULATION?(console.log("Debug mode: Auto-enabling visual simulation"),await _.simulate(G,"visual")):await _.run(G)}g.registerLocale(m)}}]);