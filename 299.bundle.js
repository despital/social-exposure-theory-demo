"use strict";(self.webpackChunksocial_exposure_theory=self.webpackChunksocial_exposure_theory||[]).push([[299],{3707:e=>{e.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27utf-8%27%3F%3E%3C%21-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0%29 --%3E%3Csvg version=%271.1%27 id=%27Layer_1%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 x=%270px%27 y=%270px%27 viewBox=%270 0 10 10%27 style=%27enable-background:new 0 0 10 10;%27 xml:space=%27preserve%27%3E%3Cstyle type=%27text/css%27%3E .st0%7Bfill:%23404040;%7D%0A%3C/style%3E%3Cpolygon class=%27st0%27 points=%272,2 0,4 5,9 10,4 8,2 5,5 %27/%3E%3C/svg%3E%0A"},5265:(e,t,o)=>{o.r(t),o.d(t,{run:()=>b}),o(5259),o(2621),o(2716);var n=o(7299),i=o(9925),s=o(4824),a=o(4621),r=o(1971),l=o(4774),p=o(6430),c=o(223),u=o(6290),d=o(8517),h=o(1958),g=o(4783),m=o(810),y=o(1038),f=o(2967),_=o.n(f);async function b({assetPaths:e,input:t={},environment:o,title:y,version:f}){const b=(0,n.N3)({show_progress_bar:!0,auto_update_progress_bar:!1,on_finish:function(){}}),v=(0,g.MI)(b),x="true"===b.data.getURLVariable("debug"),w=b.data.getURLVariable("section")||"all";let k=x&&h.P.DEBUG_SECTIONS[w]?h.P.DEBUG_SECTIONS[w]:["consent","demographics","phase1","phase2","phase3","endsurvey"];x&&(h.P.DEBUG_MODE.SKIP_CONSENT&&(k=k.filter(e=>"consent"!==e)),h.P.DEBUG_MODE.SKIP_DEMOGRAPHICS&&(k=k.filter(e=>"demographics"!==e)));const P=e=>k.includes(e);let E,A,T;if(console.log("Debug mode:",x?"ENABLED":"disabled"),x&&console.log("Section:",w,"-> Showing:",k),b.data.addProperties({participant_id:v.participantId,study_id:v.studyId,session_id:v.sessionId,condition_code:v.conditionCode,condition:v.condition,majority_group:v.majorityGroup,p1_type:v.p1Type,p2_exposure:v.p2Exposure,debug_mode:x}),h.P.DISABLE_DATA_SAVING)console.log("Firebase data saving is DISABLED (development mode)");else{E=(0,c.Wp)(h.P.FIREBASE_CONFIG),A=(0,u.C3)(E),T=(0,d.xI)();try{await(0,d.zK)(T),console.log("Firebase authentication successful")}catch(Y){console.error("Firebase authentication error:",Y)}}let S=(0,g.Oq)(b,v);if(S=(0,g.Gc)(S,b),x&&h.P.DEBUG_MODE.REDUCE_PHASE1_TRIALS){const $=S.filter(e=>"red"===e.color).slice(0,10),H=S.filter(e=>"blue"===e.color).slice(0,10);S=[...$,...H],console.log("Debug mode: Reduced to 20 faces (10 red, 10 blue)")}const D=h.P.EXPOSURES_PER_FACE;x&&h.P.DEBUG_MODE.REDUCE_PHASE1_TRIALS&&(h.P.EXPOSURES_PER_FACE=1,console.log("Debug mode: Reduced Phase 1 to 1 exposure per face"));const R=(0,g.T4)(S,b);h.P.EXPOSURES_PER_FACE=D;let I=0,C=0;const B=(0,g.Wj)(b),L=h.P.PHASE2_TOTAL_TRIALS;x&&h.P.DEBUG_MODE.REDUCE_PHASE2_TRIALS&&(h.P.PHASE2_TOTAL_TRIALS=6,console.log("Debug mode: Reduced Phase 2 to "+h.P.PHASE2_TOTAL_TRIALS+" trials"));const N=(0,g._)(B,v,b);h.P.PHASE2_TOTAL_TRIALS=L;let O=0,G=0;console.log("Experiment initialized:",{conditionCode:v.conditionCode,condition:v.condition,majorityGroup:v.majorityGroup,p1Type:v.p1Type,p2Exposure:v.p2Exposure,participantId:v.participantId,phase1Trials:R.length,phase2Trials:N.length});const U=[],V={type:i.A,stimulus:"\n            <h1>Welcome to the Social Exposure Theory Experiment</h1>\n            <p>Press any key to begin.</p>\n        "};if(U.push(V),P("consent")){const W={type:s.A,stimulus:"\n                <h2>Informed Consent</h2>\n                <p>Before we begin, please read and agree to the informed consent form.</p>\n                <p>Please note that you're free to leave at any point of the experiment even if you have agreed to the consent form.</p>\n                <p>The experiment will take approximately 20-25 minutes.</p>\n            ",choices:["View Consent Form"],data:{task:"consent_intro"}};function F(){return!!document.getElementById("consent_checkbox").checked||(alert("Please check the box to indicate that you consent to participate."),!1)}U.push(W);const j={type:r.A,url:"assets/informed_consent/consent_form.html",cont_btn:"start",check_fn:F,data:{task:"consent_form"}};U.push(j)}else console.log("Debug mode: Skipped consent form");if(P("demographics")){const z={type:s.A,stimulus:"\n                <h2>Background Information</h2>\n                <p>Before starting the main experiment, we'd like to collect some background information.</p>\n                <p>This will take about 2-3 minutes.</p>\n            ",choices:["Continue"],data:{task:"demographics_intro"}};U.push(z);const K=[...Object.values(m.getNames("en")).sort(),"Prefer not to say"],Q=_().getAllNames().sort(),X={type:l.A,survey_json:{showQuestionNumbers:!0,completeText:"Continue to Experiment",pageNextText:"Next",pagePrevText:"Back",pages:[{name:"page1",elements:[{type:"text",title:"How old are you?",name:"age",isRequired:!0,inputType:"number",min:18,max:100},{type:"radiogroup",title:"How would you describe your gender identity?",name:"gender",isRequired:!0,choices:["Woman","Man","Non-binary","Prefer not to disclose"]},{type:"checkbox",title:"What is your race/ethnicity? (Select all that apply)",name:"ethnicity",isRequired:!0,choices:["American Indian or Alaska Native","Asian","Black or African American","Hispanic or Latino","Native Hawaiian or Pacific Islander","White","Other","Prefer not to disclose"]}]},{name:"page2",elements:[{type:"radiogroup",title:"What is your highest level of education?",name:"education",isRequired:!0,choices:["Less than high school","High school graduate","Some college","Associate degree","Bachelor's degree","Master's degree","Doctoral degree","Professional degree (JD, MD, etc.)","Prefer not to disclose"]},{type:"rating",title:"Where would you place yourself on this scale, relative to other people in society?",description:"Please think of the following scale as representing where people stand in society. At the top are people who are best off — those who have the most money, education, and most respected jobs. At the bottom are people who are worst off — those who have the least money, education, and least respected jobs or no job.",name:"ses_ladder",isRequired:!0,rateMin:1,rateMax:10,minRateDescription:"1 (Bottom)",maxRateDescription:"10 (Top)"},{type:"rating",title:"How would you describe your political orientation?",name:"political_orientation",isRequired:!0,rateMin:1,rateMax:7,minRateDescription:"1 (Very Conservative)",maxRateDescription:"7 (Very Liberal)"}]},{name:"page3",elements:[{type:"radiogroup",title:"What is your current employment status?",name:"occupation",isRequired:!0,choices:["Student","Employed","Self-employed","Unemployed","Retired","Other / prefer not to say"]},{type:"dropdown",title:"What is your primary language?",name:"primary_language",isRequired:!0,choices:Q,placeholder:"Select or search for your language..."},{type:"radiogroup",title:"How would you rate your English proficiency?",name:"english_proficiency",isRequired:!0,choices:["Native speaker","Fluent","Proficient","Intermediate","Basic","Prefer not to say"]},{type:"dropdown",title:"Where are you currently located?",name:"geographic_location",isRequired:!0,choices:K,placeholder:"Select or search for your country..."}]},{name:"page4",elements:[{type:"radiogroup",title:"Do you wear glasses or contact lenses?",name:"vision_correction",isRequired:!0,choices:["Glasses","Contact lenses","None"]},{type:"radiogroup",title:"Are you color blind or have difficulty distinguishing between red and blue?",name:"color_blind",isRequired:!0,choices:["Yes","No","Not sure"]},{type:"radiogroup",title:"What type of device are you using to complete this experiment?",name:"device_type",isRequired:!0,choices:["Desktop computer / Laptop","Tablet","Smartphone","Other"]}]}]},data:{task:"demographics"}};U.push(X)}else console.log("Debug mode: Skipped demographics survey");if(P("phase1")){const J="control"===v.p1Type?'<div style="max-width: 800px; margin: auto; text-align: left;">\n                <h2>Instructions</h2>\n                <p>In this experiment, you will see <strong>4 faces</strong> on each trial.</p>\n                <p>Your task is to choose <strong>one person</strong> to interact with by clicking on their face.</p>\n                <p>After your choice, the reward values for <strong>all four people</strong> will be revealed.</p>\n                <p>Each person can give you either a <strong>reward (+1)</strong> or a <strong>punishment (-5)</strong>.</p>\n                <p><strong>Your goal is to maximize your total score.</strong></p>\n                <p>Press any key to start the experiment.</p>\n            </div>':'<div style="max-width: 800px; margin: auto; text-align: left;">\n                <h2>Instructions</h2>\n                <p>In this experiment, you will see <strong>4 faces</strong> on each trial.</p>\n                <p>Your task is to choose <strong>one person</strong> to interact with by clicking on their face.</p>\n                <p>After your choice, you will receive either a <strong>reward (+1)</strong> or a <strong>punishment (-5)</strong>.</p>\n                <p><strong>Your goal is to maximize your total score.</strong></p>\n                <p>Press any key to start the experiment.</p>\n            </div>',Z={type:i.A,stimulus:J,on_start:function(){b.progressBar.progress=0}};U.push(Z);const ee={timeline:[{type:p.A,images:function(){return b.evaluateTimelineVariable("faces").map(e=>({src:e.imagePath,color:e.color,data:{id:e.id,isGood:e.isGood}}))},prompt:function(){return"\n                <p>Choose a person to interact with by clicking on a face:</p>\n            "},image_width:200,image_height:200,grid_columns:2,gap:20,data:function(){return{task:"choice",phase:1,block:b.evaluateTimelineVariable("block"),trial_in_block:b.evaluateTimelineVariable("trialInBlock")}},on_finish:function(e){const t=b.evaluateTimelineVariable("faces"),o=t[e.response],n=(0,g.p8)(o);I+=n,C++,e.chosen_face_id=o.id,e.chosen_face_color=o.color,e.chosen_face_is_good=o.isGood,e.outcome=n,e.total_score=I,"control"===v.p1Type&&(e.all_outcomes=t.map(e=>({id:e.id,color:e.color,isGood:e.isGood,outcome:e===o?n:(0,g.p8)(e),imagePath:e.imagePath})))}},{type:i.A,stimulus:function(){const e=b.data.get().last(1).values()[0],t=e.outcome;if("control"===v.p1Type){const t=e.all_outcomes,o=e.response;let n='<div class="control-feedback-grid">';return t.forEach((e,t)=>{const i=t===o,s=e.outcome>0?"positive":"negative";n+=`\n                        <div class="control-feedback-cell ${i?"chosen":""}">\n                            <div class="feedback-value ${s}">\n                                ${e.outcome>0?"+"+e.outcome:e.outcome}\n                            </div>\n                        </div>`}),n+="</div>",n}return`\n                    <div class="feedback ${t>0?"positive":"negative"}">\n                        ${t>0?`+${t}`:t}\n                    </div>\n                `},choices:"NO_KEYS",trial_duration:1e3,data:{task:"feedback",phase:1},on_finish:function(){const e=C/R.length*.6;b.progressBar.progress=e}}],timeline_variables:R};U.push(ee);const te={type:i.A,stimulus:function(){return"\n                    <h2>Phase 1 Complete!</h2>\n                    <p>Great job! You've finished the first part of the experiment.</p>\n                    <p>Press any key to continue.</p>\n                "},post_trial_gap:500,data:{task:"phase1_complete",phase1_score:I}};U.push(te)}else console.log("Debug mode: Skipped Phase 1");if(P("phase2")){let oe=null;const ne={type:i.A,stimulus:function(){return'\n                <div id="break-container">\n                    <h2>Break Time!</h2>\n                    <p>You\'ve completed Phase 1 of the experiment.</p>\n                    <p>Please take a break before continuing to Phase 2.</p>\n                    <p>The experiment will continue in:</p>\n                    <div id="countdown-timer" style="font-size: 48px; font-weight: bold; margin: 30px 0;">60</div>\n                    <p style="color: #666;">Or press the <strong>spacebar</strong> to continue immediately</p>\n                </div>\n            '},choices:[" "],trial_duration:6e4,on_load:function(){let e=60;const t=document.getElementById("countdown-timer");oe=setInterval(()=>{e--,t&&(t.textContent=e),e<=0&&clearInterval(oe)},1e3)},on_finish:function(){oe&&(clearInterval(oe),oe=null)},data:{task:"phase2_break"}};U.push(ne);const ie={type:i.A,stimulus:'\n            <div style="max-width: 800px; margin: auto; text-align: left;">\n                <h2>Phase 2 Instructions</h2>\n                <p>In this phase, you will see <strong>new faces</strong> one at a time.</p>\n                <p>For each face, please use the slider to indicate how willing you are to <strong>approach</strong> or <strong>avoid</strong> this person.</p>\n                <p><strong>Note:</strong> You will NOT receive feedback after each rating.</p>\n                <p>Press any key to start Phase 2.</p>\n            </div>\n        ',data:{task:"phase2_instructions"}};U.push(ie);const se={timeline:[{type:a.A,stimulus:function(){const e=b.evaluateTimelineVariable("face");return`\n                <div style="text-align: center;">\n                    <img src="${e.imagePath}"\n                         style="width: 300px; height: 300px; border: 10px solid ${e.color}; border-radius: 10px; margin-bottom: 30px;">\n                </div>\n            `},labels:["Avoid","Neutral","Approach"],min:0,max:100,slider_start:50,button_label:"Submit",require_movement:!0,prompt:"<p>How willing are you to approach or avoid this person?</p>",data:function(){const e=b.evaluateTimelineVariable("face");return{task:"phase2_slider",phase:2,face_id:e.id,face_color:e.color,face_is_good:e.isGood,image_path:e.imagePath}},on_finish:function(e){const t=b.evaluateTimelineVariable("face");e.slider_rating=e.response;const o=e.slider_rating;let n;50===o?(n=0,e.correct=null):t.isGood?(e.correct=o>50,n=o>50?h.P.REWARD_VALUE:h.P.PUNISHMENT_VALUE):(e.correct=o<50,n=o<50?h.P.REWARD_VALUE:h.P.PUNISHMENT_VALUE),O+=n,e.outcome=n,e.phase2_score=O,G++;const i=G/N.length;b.progressBar.progress=.6+.1*i,delete e.stimulus,delete e.slider_start,delete e.plugin_version,delete e.response,delete e.trial_type}}],timeline_variables:N};U.push(se);const ae={type:i.A,stimulus:"\n                <h2>Phase 2 Complete!</h2>\n                <p>Thank you for completing your ratings!</p>\n                <p>Press any key to continue.</p>\n            ",post_trial_gap:500,data:{task:"phase2_summary"}};U.push(ae)}else console.log("Debug mode: Skipped Phase 2");if(P("phase3")){const re={type:i.A,stimulus:'\n            <div style="max-width: 800px; margin: auto; text-align: left;">\n                <h2>Phase 3 Instructions</h2>\n                <p>In this final phase, we will show you the faces you encountered during the experiment.</p>\n                <p>For each face, use the slider to indicate:</p>\n                <ul>punishment\n                    <li>What is the probability (0–100%) that this person will give you a <strong></strong>?</li>\n                </ul>\n                <p>The slider starts at 50%. You must move it before you can continue.</p>\n                <p>There are no right or wrong answers — we\'re interested in your impressions.</p>\n                <p>Press any key to start Phase 3.</p>\n            </div>\n        ',data:{task:"phase3_instructions"}};U.push(re);let le=(0,g.Zn)(R,S,b);if(x&&h.P.DEBUG_MODE.REDUCE_PHASE3_TRIALS){const de=5;le=le.slice(0,de),console.log("Debug mode: Reduced Phase 3 to "+le.length+" trials")}let pe=0;console.log("Phase 3 initialized:",{totalTrials:le.length});const ce={timeline:[{type:a.A,stimulus:function(){const e=b.evaluateTimelineVariable("face");return`\n                <div style="text-align: center;">\n                    <img src="${e.imagePath}"\n                         style="width: 300px; height: 300px; border: 10px solid ${e.color}; border-radius: 10px; margin-bottom: 20px;">\n                    <h3 style="margin-top: 10px;">What is the probability that this person will give you a <strong>punishment</strong>?</h3>\n                </div>\n            `},min:0,max:100,start:50,step:1,slider_width:500,labels:["0%","25%","50%","75%","100%"],require_movement:!0,data:function(){return{task:"phase3_probability",phase:3,face_id:b.evaluateTimelineVariable("face").id,face_color:b.evaluateTimelineVariable("face").color,face_is_good:b.evaluateTimelineVariable("face").isGood}},on_finish:function(e){e.probability_punishment=e.response,pe++;const t=pe/le.length;b.progressBar.progress=.7+.3*t}}],timeline_variables:le};U.push(ce);const ue={type:i.A,stimulus:"\n                <h2>Phase 3 Complete!</h2>\n                <p>Thank you for providing your ratings.</p>\n                <p>You have completed all phases of the experiment.</p>\n                <p>Press any key to continue.</p>\n            ",post_trial_gap:500,data:{task:"phase3_complete"}};U.push(ue)}else console.log("Debug mode: Skipped Phase 3");if(P("endsurvey")){const he={type:s.A,stimulus:"\n                <h1>Congratulations!</h1>\n                <p>You have successfully completed the experiment.</p>\n                <p>Before we finish, we have a few final questions for you.</p>\n            ",choices:["Continue"],data:{task:"endsurvey_congratulations"}};U.push(he);const ge={type:s.A,stimulus:'\n                <div style="max-width: 800px; margin: auto; text-align: left;">\n                    <h2>About This Study</h2>\n                    <p>Thank you for your participation in this experiment!</p>\n                    <p><strong>Purpose:</strong> This study investigates how people form impressions and make decisions about social partners. We are particularly interested in how exposure to different individuals affects approach-avoidance behavior and whether group membership influences these decisions.</p>\n                    <p><strong>What you did:</strong></p>\n                    <ul>\n                        <li><strong>Phase 1:</strong> You learned which individuals tend to give rewards versus punishments through direct experience.</li>\n                        <li><strong>Phase 2:</strong> You made choices about novel individuals, allowing us to see how your learning generalized.</li>\n                        <li><strong>Phase 3:</strong> You estimated the probability of punishment for each face, helping us understand your explicit learning.</li>\n                    </ul>\n                    <p><strong>Background colors:</strong> The red and blue backgrounds represented different social groups. We varied the composition of these groups to study social learning and decision-making.</p>\n                    <p>Your responses will help us better understand the psychological mechanisms underlying social interaction and group dynamics.</p>\n                </div>\n            ',choices:["Continue"],data:{task:"endsurvey_debriefing"}};U.push(ge);const me={type:l.A,survey_json:{showQuestionNumbers:!1,completeText:"Continue",pages:[{name:"technical_page",elements:[{type:"radiogroup",title:"Did all images load properly during the experiment?",name:"images_loaded",isRequired:!0,choices:["Yes, all images loaded","No, some images did not load","Not sure"]},{type:"radiogroup",title:"Did you encounter any other technical difficulties during the experiment?",name:"technical_difficulties",isRequired:!0,choices:["Yes","No"]},{type:"comment",title:"Please describe the technical difficulties you encountered:",name:"technical_difficulties_details",visibleIf:'{technical_difficulties} = "Yes"',isRequired:!1,rows:4}]}]},data:{task:"endsurvey_technical_check"}};U.push(me);const ye={type:l.A,survey_json:{showQuestionNumbers:!1,completeText:"Continue",pages:[{name:"feedback_page",elements:[{type:"rating",title:"How clear was the design of the experiment? Did you understand what you were supposed to do?",name:"clarity_rating",isRequired:!0,rateMin:0,rateMax:5,minRateDescription:"0 (Very unclear)",maxRateDescription:"5 (Very clear)"},{type:"comment",title:"What part of the experiment was unclear or confusing to you?",name:"clarity_elaboration",isRequired:!1,visibleIf:"{clarity_rating} <= 2"},{type:"radiogroup",title:"How would you describe the length of the experiment?",name:"length_rating",isRequired:!0,choices:["Much too short","Somewhat too short","Just right","Somewhat too long","Much too long"]},{type:"comment",title:"Do you have any suggestions for improving the experiment design?",name:"suggestions",isRequired:!1,rows:5,placeholder:"Please share any thoughts on how we could improve the experiment..."}]}]},data:{task:"endsurvey_user_feedback"}};U.push(ye);const fe={type:s.A,stimulus:function(){return`\n                    <div style="max-width: 600px; margin: auto;">\n                        <h1>Thank You!</h1>\n                        <p>Your participation is greatly appreciated.</p>\n                        <h3>Your Performance:</h3>\n                        <div style="background-color: #f0f0f0; padding: 20px; border-radius: 10px; margin: 20px 0;">\n                            <p style="font-size: 18px; margin: 10px 0;">Phase 1 Score: <strong>${I}</strong> points</p>\n                            <p style="font-size: 18px; margin: 10px 0;">Phase 2 Score: <strong>${O}</strong> points</p>\n                            <p style="font-size: 22px; margin: 10px 0;">Total: <strong>${I+O}</strong> points</p>\n                            <p style="font-size: 22px; margin: 10px 0; color: #2e7d32;">Bonus: <strong>$${((I+O)*h.P.POINTS_TO_DOLLARS).toFixed(2)}</strong></p>\n                        </div>\n                        <p>Your data will be saved in the next step.</p>\n                    </div>\n                `},choices:["Save Data"],data:{task:"endsurvey_final_thank_you"}};U.push(fe)}else{console.log("Debug mode: Skipped end-of-experiment surveys");const _e={type:i.A,stimulus:function(){return`\n                    <h2>Experiment Complete!</h2>\n                    <p>Phase 1 score: <strong>${I}</strong> points</p>\n                    <p>Phase 2 score: <strong>${O}</strong> points</p>\n                    <p>Total: <strong>${I+O}</strong> points</p>\n                    <p>Bonus: <strong>$${((I+O)*h.P.POINTS_TO_DOLLARS).toFixed(2)}</strong></p>\n                    <p>Thank you for participating.</p>\n                    <p>Press any key to save your data.</p>\n                `},post_trial_gap:500};U.push(_e)}if(!h.P.DISABLE_DATA_SAVING&&T){const be={type:i.A,stimulus:"<p>Saving data, please wait...</p>",trial_duration:2e3,choices:[],on_finish:function(){if(T.currentUser){console.log("Authenticated user detected, preparing to save data...");const e=new Uint32Array(1);window.crypto.getRandomValues(e);const t=v.participantId||`internal_${e[0]}`,o=b.data.get().values(),n=o.filter(e=>1===e.phase),i=o.filter(e=>2===e.phase),s=o.filter(e=>3===e.phase),a=o.find(e=>"demographics"===e.task),r=o.find(e=>"endsurvey_technical_check"===e.task),l=o.find(e=>"endsurvey_user_feedback"===e.task),p={metadata:{internal_id:`internal_${e[0]}`,prolific_pid:v.participantId||null,study_id:v.studyId||null,session_id:v.sessionId||null,condition_code:v.conditionCode,condition:v.condition,majority_group:v.majorityGroup,p1_type:v.p1Type,p2_exposure:v.p2Exposure,pilot_mode:h.P.PILOT_MODE,timestamp:(new Date).toISOString(),date_readable:(new Date).toLocaleString(),debug_mode:x},demographics:a?a.response:null,summary:{phase1_score:I,phase2_score:O,total_score:I+O,phase1_trials_count:n.length,phase2_trials_count:i.length,phase3_trials_count:s.length},trials:{phase1:n,phase2:i,phase3:s},surveys:{technical_check:r?r.response:null,user_feedback:l?l.response:null}},c=`participants/${t}`;(0,u.hZ)((0,u.KR)(A,c),p).then(()=>{console.log("✅ Data saved successfully to Firebase:",c)}).catch(e=>{console.error("❌ Error saving data to Firebase:",e),alert("Error saving data: "+e.message)})}else console.error("❌ Cannot save data: User not authenticated"),alert("Error: Not authenticated. Data could not be saved.")}};U.push(be)}const q={type:i.A,stimulus:"<p>Data saved. Thank you for your participation!</p>",trial_duration:2e3,choices:[]};U.push(q);const M="true"===b.data.getURLVariable("autoclick");if(x&&(M||h.P.DEBUG_MODE.ENABLE_AUTOCLICK)){const ve=100;let xe=!1;new MutationObserver(()=>{xe||(xe=!0,setTimeout(()=>{xe=!1;const e=document.querySelector(".image-multi-choice-option");if(e)return void e.click();const t=document.querySelector(".jspsych-btn");t?t.click():document.querySelector("#jspsych-html-keyboard-response-stimulus")&&(document.dispatchEvent(new KeyboardEvent("keydown",{key:" ",bubbles:!0})),document.dispatchEvent(new KeyboardEvent("keyup",{key:" ",bubbles:!0})))},ve))}).observe(document.body,{childList:!0,subtree:!0}),console.log("Debug mode: Auto-click ENABLED (delay: "+ve+"ms)")}await b.run(U)}m.registerLocale(y)}}]);